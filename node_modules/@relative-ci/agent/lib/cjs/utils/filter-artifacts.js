'use strict';

var set = require('lodash/set');
var filter = require('@bundle-stats/plugin-webpack-filter');
var constants = require('../constants.js');

const SOURCE_FILTERS = {
    // @ts-expect-error incorrect types
    [constants.SOURCE_WEBPACK_STATS]: filter.default,
};
/**
 * Filter artifact data based on the source type and map them by key
 */
function filterArtifacts(artifactsData) {
    const dataByKey = {};
    artifactsData.forEach(({ key, data }) => {
        set(dataByKey, key, SOURCE_FILTERS[key](data));
    });
    return dataByKey;
}

exports.filterArtifacts = filterArtifacts;
//# sourceMappingURL=filter-artifacts.js.map
